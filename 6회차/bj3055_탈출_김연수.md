### BJ3055 íƒˆì¶œ

[ğŸ“ë¬¸ì œë³´ê¸°](https://www.acmicpc.net/problem/3055)

---

#### ë¬¸ì œí’€ì´

- ìœ„ì¹˜ì™€ ì‹œê°„ì„ ì €ì¥í•  ìˆ˜ ìˆëŠ” í´ë˜ìŠ¤ ë§Œë“¤ì–´ ì‚¬ìš©

```java
class Pos {
    int y, x, time;

    Pos(int y, int x) {
      this.y = y;
      this.x = x;
    }

    Pos(int y, int x, int time) {
      this.y = y;
      this.x = x;
      this.time = time;
    }
  }
```



1. ê³ ìŠ´ë„ì¹˜ê°€ ì›€ì§ì´ëŠ” ì´ë™ ê²½ë¡œì™€ ì‹œê°„ì„ ë‹´ì„ Queueì™€ ë¬¼ì˜ ìœ„ì¹˜ë¥¼ ì €ì¥í•  Queueë¥¼ ì„ ì–¸í•œë‹¤. resultëŠ” ìµœëŒ€ ë§µì˜ í¬ê¸°ì¸ 250ìœ¼ë¡œ ì„ ì–¸í–ˆë‹¤.
2. ì…ë ¥ ë°›ì„ ë•Œ ê³ ìŠ´ë„ì¹˜ì™€ ìœ„ì¹˜ì™€ ë¬¼ì˜ ìœ„ì¹˜ë¥¼ ë°›ì•„ íì— ë‹´ëŠ”ë‹¤. ì´ ë•Œ ê³ ìŠ´ë„ì¹˜ê°€ ì›€ì§ì´ëŠ” ì‹œê°„ì€ 0ìœ¼ë¡œ ì´ˆê¸°í™” ì„ ì–¸í•œë‹¤.
3. bfsë¡œ ê³ ìŠ´ë„ì¹˜ì™€ ë¬¼ì„ ì´ë™í•œë‹¤.
   1. ë¬¼ì´ ì°° ì˜ˆì •ì¸ ì¹¸ì€ ê³ ìŠ´ë„ì¹˜ê°€ ëª» ì´ë™í•œë‹¤ê³  í•˜ë‹ˆ ë¬¼ë¶€í„° ì´ë™ì‹œí‚¤ê³  ê³ ìŠ´ë„ì¹˜ë¥¼ ì´ë™ì‹œí‚¤ì.

4. í˜„ì¬ ê°€ì§€ê³  ìˆëŠ” ë¬¼ì„ ì´ë™ì‹œí‚¨ë‹¤. map ë‚´ë¶€ì—ì„œ ì´ë™ í•  ìˆ˜ ìˆë‹¤ë©´ ì´ë™í•œ map ìœ„ì¹˜ì— *ì„ ì €ì¥ í•œë‹¤. ì´ ë•Œì˜ ë¬¼ì˜ ìœ„ì¹˜ë¥¼ queueì— ì €ì¥í•œë‹¤.
5. ëª¨ë“  ë¬¼ì˜ ì´ë™ì´ ëë‚˜ë©´ ê³ ìŠ´ë„ì¹˜ë¥¼ ì´ë™í•œë‹¤. ê³ ìŠ´ë„ì¹˜ê°€ map ë‚´ë¶€ì—ì„œ ì´ë™í•  ìˆ˜ ìˆëŠ” ìœ„ì¹˜ë©´ mapì— Së¥¼ ì €ì¥í•œë‹¤. ì´ ë•Œ ê³ ìŠ´ë„ì¹˜ ìœ„ì¹˜ì™€ í˜„ì¬ ì´ë™ ì‹œê°„ì— +1í•˜ì—¬ queueì— ì €ì¥í•œë‹¤.
6. ë§Œì•½ ê³ ìŠ´ë„ì¹˜ì˜ ë‹¤ìŒ ì´ë™ì´ ë¹„ë²„ì˜ êµ´(D)ë¼ë©´ êµ´ ì´ë™ê¹Œì§€ ì‹œê°„ì„ ë¹„êµí•˜ì—¬ resultì— ì €ì¥í•œë‹¤.
7. queueì— ìˆëŠ” ê³ ìŠ´ë„ì¹˜ì˜ ëª¨ë“  ì´ë™ì´ ëë‚˜ê³  resultê°€ ì´ˆê¹ƒê°’ì¸ 250 ê·¸ëŒ€ë¡œë¼ë©´ ì´ë™í•  ìˆ˜ ì—†ìœ¼ë¯€ë¡œ "KAKTUS"ì„ ì¶œë ¥í•˜ê³  ê·¸ë ‡ì§€ ì•Šë‹¤ë©´ resultë¥¼ ì¶œë ¥í•œë‹¤.

---

#### ì „ì²´ ì½”ë“œ

```java
import java.io.*;
import java.util.*;

public class Main {
  static int[] dy = { 0, 1, 0, -1 };
  static int[] dx = { 1, 0, -1, 0 };
  static int R, C, result = 250;
  static char[][] map;
  static Queue<Pos> animal = new LinkedList<>();
  static Queue<Pos> water = new LinkedList<>();

  static class Pos {
    int y, x, time;

    Pos(int y, int x) {
      this.y = y;
      this.x = x;
    }

    Pos(int y, int x, int time) {
      this.y = y;
      this.x = x;
      this.time = time;
    }
  }

  public static void main(String[] args) throws Exception {
    // System.setIn(new FileInputStream("input.txt"));
    BufferedReader br = new BufferedReader(new InputStreamReader(System.in));

    StringTokenizer st = new StringTokenizer(br.readLine(), " ");
    R = Integer.parseInt(st.nextToken());
    C = Integer.parseInt(st.nextToken());
    map = new char[R][C];
    for (int i = 0; i < R; i++) {
      String str = br.readLine();
      for (int j = 0; j < C; j++) {
        map[i][j] = str.charAt(j);
        if (map[i][j] == 'S')
          animal.add(new Pos(i, j, 0));
        else if (map[i][j] == '*')
          water.add(new Pos(i, j));
      }
    }

    bfs();
    System.out.print(result == 250 ? "KAKTUS" : result);

  }

  private static void bfs() {
    // ë¬¼ ì´ë™
    while (!animal.isEmpty()) {
      int size = water.size();
      for (int i = 0; i < size; i++) {
        Pos pos = water.poll();
        for (int d = 0; d < 4; d++) {
          int ny = pos.y + dy[d];
          int nx = pos.x + dx[d];
          if (ny >= 0 && nx >= 0 && ny < R && nx < C && map[ny][nx] == '.') {
            map[ny][nx] = '*';
            water.add(new Pos(ny, nx));
          }
        }
      }

      // ê³ ìŠ´ë„ì¹˜ ì´ë™
      size = animal.size();
      for (int i = 0; i < size; i++) {
        Pos pos = animal.poll();
        for (int d = 0; d < 4; d++) {
          int ny = pos.y + dy[d];
          int nx = pos.x + dx[d];
          if (ny >= 0 && nx >= 0 && ny < R && nx < C) {
            if (map[ny][nx] == '.') {
              map[ny][nx] = 'S';
              animal.add(new Pos(ny, nx, pos.time + 1));
            } else if (map[ny][nx] == 'D') {
              result = Math.min(result, pos.time + 1);
              return;
            }
          }
        }
      }
    }
  }
}
```

