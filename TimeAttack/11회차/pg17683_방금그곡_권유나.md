## [ğŸ§](https://school.programmers.co.kr/learn/courses/30/lessons/17683)) [pg17683] ë°©ê¸ˆê·¸ê³¡

> **ì†Œìš” ì‹œê°„: 125ë¶„<br>
> ë©”ëª¨ë¦¬: --KB<br>
> ì‹œê°„: --ms**

## ë¬¸ì œ ì ‘ê·¼

- ë¸Œë£¨íŠ¸í¬ìŠ¤ë¡œ í’€ì—ˆë‹¤!

## ë¬¸ì œ í’€ì´

1. `answer`ì—ëŠ” "(None)", ê³¡ì„ ì°¾ì€ ê²½ìš° ì¬ìƒì‹œê°„ì„ ë¹„êµí•˜ê¸° ìœ„í•´ `long_time`ì— -1ì„ ì €ì¥í•œë‹¤.

2. `getMelodylenList`ì—ì„œëŠ” ìŒê³„ ì‚¬ì´ë§ˆë‹¤ ê³µë°±ì„ ë„£ê³ , ê³µë°±ì˜ ì¸ë±ìŠ¤ë¥¼ ì €ì¥í•œë‹¤.

3. `getTime`í•¨ìˆ˜ë¥¼ í†µí•´ ì¬ìƒì‹œê°„ì„ ë¶„ë‹¨ìœ„ë¡œ ì €ì¥í•œë‹¤.

4. `checkMusic`í•¨ìˆ˜ë¥¼ í†µí•´ ì¡°ê±´ì— ì¼ì¹˜í•˜ëŠ” ìŒì•…ì¸ì§€ íŒë‹¨í•œë‹¤.

5. ì¬ìƒì‹œê°„(time)ì´ 1ë¶„ ì´ìƒì¸ ê²½ìš° ë°˜ë³µë¬¸ì„ ì‹¤í–‰í•œë‹¤.<br>
 5-1. `sb`ì— ì €ì¥ëœ ì´ ë©œë¡œë””ì— mì´ í¬í•¨ë˜ëŠ” ê²½ìš° trueë¥¼ ë°˜í™˜í•˜ê³  í•¨ìˆ˜ë¥¼ ì¢…ë£Œí•œë‹¤.<br>
 5-2. timeì´ melody ê°œìˆ˜ë³´ë‹¤ í¬ê±°ë‚˜ ê²½ìš° `sb`ì— melodyë¥¼ ë„£ëŠ”ë‹¤. timeì„ ê°±ì‹ ì‹œí‚¨ë‹¤.<br>
 5-3. timeì´ melody ê°œìˆ˜ë³´ë‹¤ ì‘ì€ ê²½ìš° `sb`ì— melodyë¥¼ timeë§Œí¼ì˜ ìŒê³„ê¹Œì§€ ì˜ë¼ì„œ ë„£ëŠ”ë‹¤. timeì—ëŠ” 0ì„ ì €ì¥í•œë‹¤.<br>
 
6. `sb`ì— ì €ì¥ëœ ì´ ë©œë¡œë””ì— mì´ í¬í•¨ë˜ëŠ” ê²½ìš° trueë¥¼ ë°˜í™˜í•˜ê³ , ì•„ë‹ˆë¼ë©´ falseë¥¼ ë°˜í™˜í•œë‹¤.

7. `checkMusic`í•¨ìˆ˜ê°€ ì°¸ì´ê³ , ì¬ìƒì‹œê°„ì´ long_timeë³´ë‹¤ ê¸´ ê²½ìš° long_timeì„ ê°±ì‹ ì‹œí‚¤ê³  answerì— í•´ë‹¹ ë…¸ë˜ ì œëª©ì„ ì €ì¥í•œë‹¤.

8. `answer`ë¥¼ ì¶œë ¥í•œë‹¤.

## ì „ì²´ ì½”ë“œ

```java
import java.util.Arrays;

class Solution_ë°©ê¸ˆê·¸ê³¡ {
    int[] arr;
    String answer = "(None)";
    int long_time = -1;

    public String solution(String m, String[] musicinfos) {
        String st_m = getMelodylenList(m.toCharArray());

        for (String musicinfo : musicinfos) {
            String[] info = musicinfo.split(",");
            int time = getTime(info[0].split(":"), info[1].split(":"));
            if (checkMusic(st_m, time, info[3]) && long_time < time) {
                long_time = time;
                answer = info[2];
            }
        }
        return answer;
    }

    String getMelodylenList(char[] melody) {
        StringBuilder sb = new StringBuilder();
        int melody_len = melody.length;
        int[] len_arr = new int[melody_len];
        int idx = 0;

        for (int i = 0; i < melody_len; i++) {
            if (i < melody_len - 1 && melody[i + 1] == '#') {
                sb.append(melody[i]).append(melody[++i]).append(" ");
            } else {
                sb.append(melody[i]).append(" ");
            }
            len_arr[idx++] = idx + i;
        }
        arr = Arrays.copyOfRange(len_arr, 0, idx);
        return sb.toString();
    }

    boolean checkMusic(String m, int time, String melody) {
        String music = getMelodylenList(melody.toCharArray());
        int melody_len = arr.length;
        StringBuilder sb = new StringBuilder(melody);
        while (time > 0) {
            if (sb.toString().contains(m)) {
                return true;
            }
            if (time >= melody_len) {
                sb.append(music);
                time -= melody_len;
            } else {
                sb.append(music, 0, arr[time] + 1);
                time = 0;
            }
        }
        if (sb.toString().contains(m)) {
            return true;
        }
        return false;
    }

    int getTime(String[] st_time, String[] ed_time) {
        int h = Integer.parseInt(ed_time[0]) - Integer.parseInt(st_time[0]);
        return Integer.parseInt(ed_time[1]) + h * 60 - Integer.parseInt(st_time[1]);
    }

}
```
