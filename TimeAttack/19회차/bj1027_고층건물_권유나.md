## [ğŸ¢](https://www.acmicpc.net/problem/1027) [bj1027] ê³ ì¸µ ê±´ë¬¼

> **ì†Œìš” ì‹œê°„: 45ë¶„<br>
> ë©”ëª¨ë¦¬: 11636KB<br>
> ì‹œê°„: 76ms**

## ë¬¸ì œ ì ‘ê·¼

- ì•„í¬íƒ„ì  íŠ¸ë¥¼ í™œìš©í•´ ê°ë„ë¡œ ë¬¸ì œë¥¼ í’€ì—ˆë‹¤
<img src="https://github.com/NewSainTurtle/NewSainTurtleAlgo/assets/26339069/0805aef7-2a14-43ae-8dcc-b2a8cd6e15c8" width="600">

## ë¬¸ì œ í’€ì´

1. ë¹Œë”©ì˜ ë†’ì´ë¥¼ `buildings`ì— ì…ë ¥ë°›ëŠ”ë‹¤.

2. ê° ë¹Œë”©ë§ˆë‹¤ `checkLeft`ì™€ `checkRight` í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•´ ë³´ì´ëŠ” ë¹Œë”© ìˆ˜ë¥¼ êµ¬í•˜ê³  `max`ë³´ë‹¤ í° ê²½ìš° ê°±ì‹ í•œë‹¤.

3. `checkLeft`ëŠ” `target`ë¹Œë”©ì˜ ì™¼ìª½ ë¹Œë”©ë“¤ì˜ ë³´ì´ëŠ” ê±´ë¬¼ ìˆ˜ë¥¼ ì²´í¬í•œë‹¤.

4. `target`ì´ ì²«ë²ˆì§¸ ë¹Œë”©ì¸ ê²½ìš° í™•ì¸í•  ì™¼ìª½ ë¹Œë”©ì´ ì—†ìœ¼ë¯€ë¡œ 0ì„ ë°˜í™˜í•œë‹¤.

5. `small`ëŠ” ì¸ì ‘í•œ ì™¼ìª½ ë¹Œë”©ì´ `target`ë¹Œë”©ë³´ë‹¤ ì‘ë‹¤ë©´ trueë¥¼ ì•„ë‹ˆë¼ë©´ falseë¥¼ ì €ì¥í•œë‹¤, `angle`ì€ ì¸ì ‘í•œ ì™¼ìª½ë¹Œë”©ê³¼ `target`ë¹Œë”©ì—ì„œ êµ¬í•  ìˆ˜ ìˆëŠ” ê°ë„ xë¥¼ ì €ì¥í•œë‹¤.

6. ìˆœì°¨ì ìœ¼ë¡œ ì™¼ìª½ìœ¼ë¡œ ì´ë™í•˜ë©´ì„œ ë¹Œë”©ê³¼ `target`ë¹Œë”© ì‚¬ì´ ê°ë„ë¥¼ êµ¬í•˜ê³  ë³´ì´ëŠ”ì§€ í™•ì¸í•œë‹¤.

7. `small`ê°€ ì°¸ì¸ ê²½ìš° (í˜„ì¬ê¹Œì§€ ì™¼ìª½ ë¹Œë”©ë“¤ì´ `target`ë³´ë‹¤ ì‘ì€ ê±´ë¬¼ë“¤ì¼ ë•Œ)<br>
    7-1. í˜„ì¬ ì™¼ìª½ ë¹Œë”©ì´ `target`ë¹Œë”©ë³´ë‹¤ ì‘ì€ ê²½ìš°, êµ¬í•œ ê°ë„ `a`ê°€ `angle`ë³´ë‹¤ ì‘ì€ ê²½ìš°ëŠ” ë³´ì´ëŠ” ë¹Œë”©ì´ë¯€ë¡œ `angle`ì„ ê°±ì‹ í•˜ê³  `cnt`ë¥¼ 1 ì¦ê°€ì‹œí‚¨ë‹¤.<br>
    7-2. í˜„ì¬ ì™¼ìª½ ë¹Œë”©ì´ `target`ë¹Œë”©ë³´ë‹¤ í¬ê±°ë‚˜ ê°™ì€ ê²½ìš°, `small`ì„ falseë¡œ ìˆ˜ì •í•˜ê³  êµ¬í•œ ê°ë„ `a`ë¥¼ `angle`ì— ì €ì¥í•˜ê³  `cnt`ë¥¼ 1 ì¦ê°€ì‹œí‚¨ë‹¤.<br>
  
8. `small`ê°€ ê±°ì§“ì´ë©´ì„œ í˜„ì¬ ì™¼ìª½ ë¹Œë”©ì´ `target`ë¹Œë”©ë³´ë‹¤ í° ê²½ìš°, êµ¬í•œ ê°ë„ `a`ê°€ `angle`ë³´ë‹¤ í° ê²½ìš°ëŠ” ë³´ì´ëŠ” ë¹Œë”©ì´ë¯€ë¡œ `angle`ì„ ê°±ì‹ í•˜ê³  `cnt`ë¥¼ 1 ì¦ê°€ì‹œí‚¨ë‹¤.

9. `cnt`ë¥¼ ë°˜í™˜í•œë‹¤.

10. `checkRight` í•¨ìˆ˜ëŠ” `target`ë¹Œë”©ì˜ ì˜¤ë¥¸ìª½ ë¹Œë”©ë“¤ì˜ ë³´ì´ëŠ” ê±´ë¬¼ ìˆ˜ë¥¼ ì²´í¬í•˜ëŠ” ì ì„ ì œì™¸í•˜ê³  `checkLeft`ì™€ ë¹„ìŠ·í•˜ê²Œ ë™ì‘í•œë‹¤.

11. `max`ë¥¼ ì¶œë ¥í•œë‹¤.

## ì „ì²´ ì½”ë“œ

```java
import java.io.BufferedReader;
import java.io.InputStreamReader;

public class Main_1027_ê³ ì¸µê±´ë¬¼ {
    static int[] buildings;
    static int N;

    public static void main(String args[]) throws Exception {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        N = Integer.parseInt(br.readLine());

        String[] input = br.readLine().split(" ");
        buildings = new int[N];
        for (int i = 0; i < N; i++) {
            buildings[i] = Integer.parseInt(input[i]);
        }
        int max = 0;
        for (int i = 0; i < N; i++) {
            int tmp = checkLeft(i) + checkRight(i);
            if (max < tmp) max = tmp;
        }
        System.out.println(max);
    }

    static int checkLeft(int target) {
        if (target == 0) return 0;

        int target_h = buildings[target];
        int cnt = 1;
        boolean small = buildings[target - 1] < target_h;
        double angle = small ? Math.atan2(target_h - buildings[target - 1], 1) : Math.atan2(buildings[target - 1] - target_h, 1);

        for (int i = target - 2; i >= 0; i--) {
            if (small) {
                if (buildings[i] < target_h) {
                    double a = Math.atan2(target_h - buildings[i], target - i);
                    if (angle > a) {
                        angle = a;
                        cnt++;
                    }
                } else {
                    angle = Math.atan2(buildings[i] - target_h, target - i);
                    cnt++;
                    small = false;
                }
            } else if (buildings[i] > target_h) {
                double a = Math.atan2(buildings[i] - target_h, target - i);
                if (angle < a) {
                    angle = a;
                    cnt++;
                }
            }
        }
        return cnt;
    }

    static int checkRight(int target) {
        if (target == N - 1) return 0;

        int target_h = buildings[target];
        int cnt = 1;
        boolean small = buildings[target + 1] < target_h;
        double angle = small ? Math.atan2(target_h - buildings[target + 1], 1) : Math.atan2(buildings[target + 1] - target_h, 1);

        for (int i = target + 2; i < N; i++) {
            if (small) {
                if (buildings[i] < target_h) {
                    double a = Math.atan2(target_h - buildings[i], i - target);
                    if (angle > a) {
                        angle = a;
                        cnt++;
                    }
                } else {
                    angle = Math.atan2(buildings[i] - target_h, i - target);
                    cnt++;
                    small = false;
                }
            } else if (buildings[i] > target_h) {
                double a = Math.atan2(buildings[i] - target_h, i - target);
                if (angle < a) {
                    angle = a;
                    cnt++;
                }
            }
        }
        return cnt;
    }
}
```
