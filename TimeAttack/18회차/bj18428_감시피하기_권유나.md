## [ğŸ‘€](https://www.acmicpc.net/problem/18428) [bj18428] ê°ì‹œ í”¼í•˜ê¸°

> **ì†Œìš” ì‹œê°„: 21ë¶„<br>
> ë©”ëª¨ë¦¬: 11528KB<br>
> ì‹œê°„: 76ms**

## ë¬¸ì œ ì ‘ê·¼

- ì²˜ìŒì—ëŠ” ê¸°ë³¸ ì¡°í•©+ë°±íŠ¸ë™í‚¹ìœ¼ë¡œ í’€ì–´ì„œ ë§ì·„ë‹¤.
- ë‹¤ìŒì—ëŠ” ì„ ìƒë‹˜ ê°ì‹œì— ê±¸ë¦¬ëŠ” ê¸¸ì„ 'Y'ë¡œ ì²´í¬í•´ ì¡°í•©ì˜ ë²”ìœ„ë¥¼ ì¤„ì—¬ì„œ í’€ì—ˆë‹¤.

## ë¬¸ì œ í’€ì´

1. `map`ì— ì…ë ¥ë°›ì€ ì •ë³´ë¥¼ ì €ì¥í•˜ê³ , ì„ ìƒë‹˜ì¸ ê²½ìš° `teachers` ë¦¬ìŠ¤íŠ¸ì— ìœ„ì¹˜ë¥¼ ì €ì¥í•œë‹¤.

2. `checkY`í•¨ìˆ˜ë¥¼ í†µí•´ ì„ ìƒë‹˜ ê°ì‹œì— í•™ìƒë“¤ì´ ê±¸ë¦¬ëŠ” ê²½ë¡œë¥¼ `X`ëŒ€ì‹  `Y`ë¡œ ë³€ê²½í•œë‹¤.

3. `putO`í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•´ ì¡°í•©ìœ¼ë¡œ `Y`ì¤‘ ì¥ì• ë¬¼ 3ê°œ ì´í•˜ë¡œ ì„¤ì¹˜í•´ ê°ì‹œë¥¼ í”¼í•  ìˆ˜ ìˆëŠ”ì§€ í™•ì¸í•œë‹¤.

4. ê°ì‹œë¥¼ í”¼í•  ìˆ˜ ìˆë‹¤ë©´ `YES`, ì•„ë‹ˆë¼ë©´ `NO`ë¥¼ ì¶œë ¥í•œë‹¤.

## ì „ì²´ ì½”ë“œ

```java
import java.io.BufferedReader;
import java.io.InputStreamReader;
import java.util.ArrayList;
import java.util.List;

public class Main_18428_ê°ì‹œí”¼í•˜ê¸° {
    final static int[] di = {-1, 0, 1, 0};
    final static int[] dj = {0, -1, 0, 1};
    static char[][] map;
    static List<int[]> teachers;
    static int N;

    public static void main(String args[]) throws Exception {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        N = Integer.parseInt(br.readLine().trim());
        map = new char[N][N];
        teachers = new ArrayList<>();

        for (int i = 0; i < N; i++) {
            String input = br.readLine();
            for (int j = 0; j < N; j++) {
                map[i][j] = input.charAt(j + j);
                if (map[i][j] == 'T') teachers.add(new int[]{i, j});
            }
        }

        checkY();
        System.out.println(putO(0, 0, 0) ? "YES" : "NO");
    }

    static void checkY() {
        for (int[] teacher : teachers) {
            for (int z = 0; z < 4; z++) {
                int ni = teacher[0] + di[z];
                int nj = teacher[1] + dj[z];
                while (checkRangeAndT(ni, nj)) {
                    if (map[ni][nj] == 'S') {
                        if (z < 2) fillY(ni - di[z], nj - dj[z], teacher[0] + di[z], teacher[1] + dj[z]);
                        else fillY(teacher[0] + di[z], teacher[1] + dj[z], ni - di[z], nj - dj[z]);
                        break;
                    }
                    ni += di[z];
                    nj += dj[z];
                }
            }
        }
    }

    static void fillY(int st_i, int st_j, int ed_i, int ed_j) {
        for (int i = st_i; i <= ed_i; i++) {
            for (int j = st_j; j <= ed_j; j++) {
                map[i][j] = 'Y';
            }
        }
    }

    static boolean putO(int cnt, int st_i, int st_j) {
        if (cnt == 3) {
            return avoidWatch();
        }

        for (int j = st_j; j < N; j++) {
            if (map[st_i][j] == 'Y') {
                map[st_i][j] = 'O';
                if (putO(cnt + 1, st_i, j + 1)) return true;
                map[st_i][j] = 'Y';
            }
        }

        for (int i = st_i + 1; i < N; i++) {
            for (int j = 0; j < N; j++) {
                if (map[i][j] == 'Y') {
                    map[i][j] = 'O';
                    if (putO(cnt + 1, i, j + 1)) return true;
                    map[i][j] = 'Y';
                }
            }
        }

        return avoidWatch();
    }

    static boolean avoidWatch() {
        for (int[] teacher : teachers) {
            for (int z = 0; z < 4; z++) {
                int ni = teacher[0] + di[z];
                int nj = teacher[1] + dj[z];
                while (checkRangeAndT(ni, nj) && map[ni][nj] != 'O') {
                    if (map[ni][nj] == 'S') return false;
                    ni += di[z];
                    nj += dj[z];
                }
            }
        }
        return true;
    }

    static boolean checkRangeAndT(int i, int j) {
        if (i >= 0 && i < N && j >= 0 && j < N && map[i][j] != 'T') return true;
        return false;
    }

}
```
