## [ğŸ¥—](https://www.acmicpc.net/problem/19942) [bj19942] ë‹¤ì´ì–´íŠ¸

> **ì†Œìš” ì‹œê°„: 35ë¶„<br>
> ë©”ëª¨ë¦¬: 12548KB<br>
> ì‹œê°„: 80ms**

## ë¬¸ì œ ì ‘ê·¼

- ì²˜ìŒì—ëŠ” ë¶€ë¶„ì§‘í•©ìœ¼ë¡œ í’€ë ¤ê³  í–ˆìœ¼ë‚˜, ì¡°í•©ìœ¼ë¡œ í’€ë©´ ì‹œê°„ì„ ë” ë‹¨ì¶•ì‹œí‚¬ ìˆ˜ ìˆì„ ê²ƒ ê°™ì•„ì„œ í’€ì´ ë°©ì‹ì„ ì¡°í•©ìœ¼ë¡œ ë³€ê²½í–ˆë‹¤.

## ë¬¸ì œ í’€ì´

1. ìµœì†Œë¹„ìš© minì„ -1ë¡œ ì €ì¥í•˜ê³  ë°°ì—´ answerë¥¼ ìµœëŒ€í¬ê¸°ì¸ Nìœ¼ë¡œ ì„¤ì •í•œë‹¤.

2. ì‹ì¬ë£Œë¥¼ ì´í›„ë¡œ ì•„ì˜ˆ í¬í•¨ ì•ˆì‹œí‚¨ê²½ìš°(st_ië¥¼ Nìœ¼ë¡œ ì„¤ì •í•´ ì¬ê·€í˜¸ì¶œí•œë‹¤)ì™€ ì¡°í•©ìœ¼ë¡œ st_i ì´í›„ë¡œ ì‹ì¬ë£Œë¥¼ ì„ íƒí•˜ëŠ” ë°©ë²•ìœ¼ë¡œ ìµœì†Œë¹„ìš© ì‹ì¬ë£Œë¥¼ êµ¬í•œë‹¤.

3. ìµœì†Œë¹„ìš©ì‹ì¬ë£Œë¥¼ êµ¬í•˜ë©´ minê°’ì„ ê°±ì‹ ì‹œí‚¤ê³ , answerì— ì„ íƒí•œ ì‹ì¬ë£Œë¥¼ ì €ì¥í•œë‹¤.

4. minì´ -1ì¸ ê²½ìš° ì¡°ê±´ì„ ë§Œì¡±í•˜ëŠ” ë‹µì´ ì—†ë‹¤ëŠ” ì˜ë¯¸ë¡œ -1ì„ ì¶œë ¥í•œë‹¤.

5. ì•„ë‹Œ ê²½ìš°, ìµœì†Œë¹„ìš© minì„ ì¶œë ¥í•˜ê³  (ì‹ì¬ë£Œ ë²ˆí˜¸ëŠ” 1ë¶€í„° ì‹œì‘í•˜ë¯€ë¡œ) answerì˜ ì›ì†Œë¥¼ ìˆœì°¨ì ìœ¼ë¡œ ì ‘ê·¼í•´ 0ë³´ë‹¤ í° ê²½ìš°ë§Œ ì¶œë ¥í•œë‹¤.

## ì „ì²´ ì½”ë“œ

```java
import java.io.BufferedReader;
import java.io.InputStreamReader;
import java.util.StringTokenizer;

public class Main_19942_ë‹¤ì´ì–´íŠ¸ {

    static int N;
    static int[][] input;
    static int mp, mf, ms, mv;
    static int min = -1;
    static int[] answer;

    public static void main(String[] args) throws Exception {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        N = Integer.parseInt(br.readLine().trim());

        StringTokenizer st = new StringTokenizer(br.readLine());
        mp = Integer.parseInt(st.nextToken());
        mf = Integer.parseInt(st.nextToken());
        ms = Integer.parseInt(st.nextToken());
        mv = Integer.parseInt(st.nextToken());

        input = new int[N][];
        for (int n = 0; n < N; n++) {
            st = new StringTokenizer(br.readLine());
            input[n] = new int[]{Integer.parseInt(st.nextToken()), Integer.parseInt(st.nextToken()), Integer.parseInt(st.nextToken()), Integer.parseInt(st.nextToken()), Integer.parseInt(st.nextToken())};
        }

        comb(0, 0, new int[N], 0, 0, 0, 0, 0);
        if (min == -1) {
            System.out.println(-1);
        } else {
            StringBuilder sb = new StringBuilder();
            sb.append(min).append("\n").append(answer[0] + 1);
            for (int n = 1; n < N; n++) {
                if (answer[n] == 0) break;
                sb.append(" ").append(answer[n] + 1);
            }
            System.out.println(sb);
        }
    }

    static void comb(int idx, int st_i, int[] check, int p, int f, int s, int v, int cost) {
        if (min != -1 && cost > min) {
            return;
        }

        if (st_i == N) {
            if (mp <= p && mf <= f && ms <= s && mv <= v && (min == -1 || cost < min)) {
                min = cost;
                answer = check.clone();
            }
            return;
        }

        comb(idx, N, check, p, f, s, v, cost);
        for (int i = st_i; i < N; i++) {
            check[idx] = i;
            comb(idx + 1, i + 1, check, p + input[i][0], f + input[i][1], s + input[i][2], v + input[i][3], cost + input[i][4]);
        }
        check[idx] = 0;
    }
}
```
