## [ğŸ¥›](https://www.acmicpc.net/problem/20208) [bj20208] ì§„ìš°ì˜ ë¯¼íŠ¸ì´ˆì½”ìš°ìœ 

> **ì†Œìš” ì‹œê°„: 24ë¶„<br>
> ë©”ëª¨ë¦¬: 12188KB<br>
> ì‹œê°„: 124ms**

## ë¬¸ì œ ì ‘ê·¼

- dfs ì‚¬ìš©

## ë¬¸ì œ í’€ì´

1. ë¯¼íŠ¸ì´ˆì½”ìš°ìœ ì˜ ìœ„ì¹˜ë¥¼ minchos ë°°ì—´ì— ì €ì¥í•œë‹¤.

2. dfsë¥¼ í˜¸ì¶œí•œë‹¤. (ì¸ì = ì§„ìš° ìœ„ì¹˜(ìµœì´ˆ ì§„ìš°ì§‘), ì§„ìš° ì²´ë ¥(ìµœì´ˆ M), ë§ˆì‹  ìš°ìœ (ìµœì´ˆ 0))

3. minchosë¥¼ ìˆœì°¨ì ìœ¼ë¡œ ë°©ë¬¸í•˜ë©° ë§ˆì‹œì§€ ì•Šì€ ë¯¼íŠ¸ì´ˆì½”ìš°ìœ ë¥¼ ì§„ìš°ê°€ ê°€ì§€ëŸ¬ ê°ˆ ìˆ˜ ìˆëŠ” ê²½ìš° dfsë¥¼ ì¬ê·€ í˜¸ì¶œí•´ ê°€ì§€ëŸ¬ ê°„ë‹¤.

4. ë¯¼íŠ¸ì´ˆì½” ìš°ìœ  í™•ì¸ì´ ëë‚˜ë©´ í˜„ì¬ ë§ˆì‹  ìš°ìœ ê°€ maxë³´ë‹¤ ë§ê³ , ì§„ìš°ê°€ ì§‘ê¹Œì§€ ê°ˆ ìˆ˜ ìˆëŠ” ì²´ë ¥ì´ ìˆë‹¤ë©´ maxë¥¼ ê°±ì‹ ì‹œí‚¨ë‹¤.

## ì „ì²´ ì½”ë“œ

```java
import java.io.BufferedReader;
import java.io.InputStreamReader;
import java.util.StringTokenizer;

public class Main_bj20208 {
    static int[][] minchos;
    static boolean[] visit;
    static int size;
    static int house_i, house_j;
    static int max;
    static int H;

    public static void main(String[] args) throws Exception {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        StringTokenizer st = new StringTokenizer(br.readLine(), " ");
        int N = Integer.parseInt(st.nextToken());
        int M = Integer.parseInt(st.nextToken());
        H = Integer.parseInt(st.nextToken());

        minchos = new int[10][2];
        size = 0;
        house_i = 0;
        house_j = 0;
        max = 0;

        for (int i = 0; i < N; i++) {
            char[] input = br.readLine().toCharArray();
            for (int j = 0; j < N; j++) {
                if(input[j+j]=='2'){
                    minchos[size][0] = i;
                    minchos[size++][1] = j;
                }else if(input[j+j]=='1'){
                    house_i = i;
                    house_j = j;
                }
            }
        }
        visit = new boolean[size];
        dfs(house_i,house_j,M,0);
        System.out.println(max);
    }

    static void dfs(int i, int j, int power, int cnt){
        //ë¯¼ì´ˆ
        for(int s=0; s<size; s++){
            if(max==size) return;
            if(!visit[s]){
                int mincho_i = minchos[s][0];
                int mincho_j = minchos[s][1];
                if(Math.abs(mincho_i-i)+Math.abs(mincho_j-j)<=power){
                    visit[s] = true;
                    dfs(mincho_i, mincho_j, power+H-Math.abs(mincho_i-i)-Math.abs(mincho_j-j), cnt+1);
                    visit[s] = false;
                }
            }
        }
        //ì§‘
        if(max<cnt && Math.abs(house_i-i)+Math.abs(house_j-j)<=power){
            max=cnt;
        }
    }
}
```
