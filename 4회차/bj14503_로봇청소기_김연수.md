### BJ14503 ë¡œë´‡ì²­ì†Œê¸°

[ğŸ“ë¬¸ì œë³´ê¸°](https://www.acmicpc.net/problem/14503)

---

#### ë¬¸ì œí’€ì´

- dfs ë°©ì‹ ì´ìš©
- ë”°ë¡œ booleaníƒ€ì… ë°©ë¬¸ ë°°ì—´ì„ ìƒì„±í•˜ì§€ ì•Šê³  ê¸°ì¡´ mapì— ì²­ì†Œ í•œ ê³³ì€ -1ì„ ì…ë ¥í•˜ëŠ” í˜•ì‹ìœ¼ë¡œ í•¨
-  ë¬¸ì œ ìˆœì„œëŒ€ë¡œ êµ¬í˜„
  1. í˜„ì¬ ì¹¸ì´ ì•„ì§ ì²­ì†Œë˜ì§€ ì•Šì€ ê²½ìš°, í˜„ì¬ ì¹¸ì„ ì²­ì†Œí•œë‹¤.
  2. í˜„ì¬ ì¹¸ì˜ ì£¼ë³€ 4ì¹¸ ì¤‘ ì²­ì†Œë˜ì§€ ì•Šì€ ë¹ˆ ì¹¸ì´ ì—†ëŠ” ê²½ìš°
     1.  ë°”ë¼ë³´ëŠ” ë°©í–¥ì„ ìœ ì§€í•œ ì±„ë¡œ í•œ ì¹¸ í›„ì§„í•  ìˆ˜ ìˆë‹¤ë©´ í•œ ì¹¸ í›„ì§„í•˜ê³  1ë²ˆìœ¼ë¡œ ëŒì•„ê°„ë‹¤.
     2. ë°”ë¼ë³´ëŠ” ë°©í–¥ì˜ ë’¤ìª½ ì¹¸ì´ ë²½ì´ë¼ í›„ì§„í•  ìˆ˜ ì—†ë‹¤ë©´ ì‘ë™ì„ ë©ˆì¶˜ë‹¤.
  3. í˜„ì¬ ì¹¸ì˜ ì£¼ë³€ 4ì¹¸ ì¤‘ ì²­ì†Œë˜ì§€ ì•Šì€ ë¹ˆ ì¹¸ì´ ìˆëŠ” ê²½ìš°,
     1. ë°˜ì‹œê³„ ë°©í–¥ìœ¼ë¡œ 90Ëš íšŒì „í•œë‹¤.
     2. ë°”ë¼ë³´ëŠ” ë°©í–¥ì„ ê¸°ì¤€ìœ¼ë¡œ ì•ìª½ ì¹¸ì´ ì²­ì†Œë˜ì§€ ì•Šì€ ë¹ˆ ì¹¸ì¸ ê²½ìš° í•œ ì¹¸ ì „ì§„í•œë‹¤.
     3. 1ë²ˆìœ¼ë¡œ ëŒì•„ê°„ë‹¤.
- ëª¨ë“  ë¬¸ì œ êµ¬í˜„ì´  ëë‚˜ë©´ cnt ê°’ì„ ì¶œë ¥í•œë‹¤.

---

#### ì „ì²´ ì½”ë“œ

```java
import java.io.*;
import java.util.*;

public class Main {
  static int[] dy = { -1, 0, 1, 0 }; // ë¶ë™ë‚¨ì„œ
  static int[] dx = { 0, 1, 0, -1 };
  static int N, M, cnt = 1;
  static int[][] map;

  public static void main(String[] args) throws Exception {
    // System.setIn(new FileInputStream("input.txt"));
    BufferedReader br = new BufferedReader(new InputStreamReader(System.in));

    // ì…ë ¥
    StringTokenizer st = new StringTokenizer(br.readLine(), " ");
    N = Integer.parseInt(st.nextToken());
    M = Integer.parseInt(st.nextToken());
    map = new int[N][M];
    st = new StringTokenizer(br.readLine(), " ");
    int y = Integer.parseInt(st.nextToken());
    int x = Integer.parseInt(st.nextToken());
    int d = Integer.parseInt(st.nextToken());

    for (int i = 0; i < N; i++) {
      st = new StringTokenizer(br.readLine(), " ");
      for (int j = 0; j < M; j++) {
        map[i][j] = Integer.parseInt(st.nextToken());
      }
    }

    // ì²˜ë¦¬
    dfs(y, x, d);

    System.out.println(cnt);
  }

  private static void dfs(int y, int x, int dir) {
    map[y][x] = -1;

    int temp = dir; // ë°©í–¥ì„ ì„ì‹œ ì €ì¥
    for (int i = 0; i < 4; i++) {
      // 3. í˜„ì¬ ì¹¸ì˜ ì£¼ë³€ 4ì¹¸ ì¤‘ ì²­ì†Œë˜ì§€ ì•Šì€ ë¹ˆ ì¹¸ì´ ìˆëŠ” ê²½ìš°
      dir = (dir + 3) % 4;
      int ny = y + dy[dir];
      int nx = x + dx[dir];
      if (ny >= 0 && nx >= 0 && ny < N && nx < M && map[ny][nx] == 0) {
        cnt++;
        dfs(ny, nx, dir);
        return;
      }
    }

    // 2. í˜„ì¬ ì¹¸ì˜ ì£¼ë³€ 4ì¹¸ ì¤‘ ì²­ì†Œë˜ì§€ ì•Šì€ ë¹ˆ ì¹¸ì´ ì—†ëŠ” ê²½ìš°
    dir = temp; // ë°©í–¥ ìœ ì§€
    int ny = y - dy[dir];
    int nx = x - dx[dir];
    if (ny >= 0 && nx >= 0 && ny < N && nx < M && map[ny][nx] != 1) {
      dfs(ny, nx, dir);
    }
  }
}

```

